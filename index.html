<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/javascript" src="javascript.js"></script>
    <script type="text/javascript" src="airdnb.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
     <!-- Numeric JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <title>AirDnB</title>

</head>

<body>

    <h1>
        AirDnB Plots
    </h1>
    <!-- Skatterplot -->
    <p>
        <div id="myDiv1">

        </div>
    </p>
    <br>
    <script>
        var data = airdnb;
        var xData = [];
        var yData = [];

        for (let i = 0; i < data.length; i++) {
            xData.push(data[i].price);
            yData.push(data[i].reviews);
        }

        var trace1 = {
            x: xData,
            y: yData,
            mode: 'markers',
            type: 'scatter'
        };

        var data1 = [trace1];
        var layout = {
            height: 400,
            width: 500,
            xaxis: {
                title: {
                    text: "Price"
                }
            },
            yaxis: {
                title: {
                    text: "Reviews"
                }
            }

        };
        Plotly.newPlot('myDiv1', data1, layout);
    </script>


    
     <!--/*Skapar en array med distinkta namn på room_type*/
   
  
        let myValues =[{countE, countP, countS}]
        
        var data = [{
            values:[261,184,2],
            labels: ['Entire home/apt', 'Private room', 'Shared room'],
            type: 'pie'

        }];

        var layout = {
            height: 400,
            width: 500
        };

        Plotly.newPlot('myDiv', data, layout);
   

<p>--> 
        <!-- piechart-->
       <p>
        <div id="myDiv">
        </div>
    </p>
    <br>

    <script>
    /*let room = [... new Set(airdnb.map(roomt => roomt.room_type))]*/
   /*console.log(room);
  
   /*Räknar antalet av varje roon_type för sig själv*/ 
 /* let countE = airdnb.reduce(function (r, a) {
    return r + +(a.room_type === "Entire home/apt");
},0);

let countP = airdnb.reduce(function (r, a) {
  return r + +(a.room_type === "Private room");
},0);

let countS = airdnb.reduce(function (r, a) {
  return r + +(a.room_type === "Shared room");
},0);*/
  var data = [{
            values:[261,184,2],
            labels: ['Entire home/apt', 'Private room', 'Shared room'],
            type: 'pie'

        }];

        var layout = {
            height: 400,
            width: 500
        };

        Plotly.newPlot('myDiv', data, layout);

 </script>

    <p>
        <!--Histogram-->
        <div id="myDiv2"> </div>
    </p>
    <br></br>
    <script>


        var datan = airdnb;
        var x = [];


        for (let i = 0; i < datan.length; i++) {
            x.push(datan[i].price);
        }

        var trace = {
            x: x,
            type: 'histogram',
        };
        var data = [trace];
        var layout = {
            height: 400,
            width: 500,
            xaxis: {
                title: {
                    text: "Pris"
                }
            },
            yaxis: {
                title: {
                    text: "Antal"
                }
            }
        };
        Plotly.newPlot('myDiv2', data, layout);
    </script>



    <div id="myDiv3"> </div>
    <script>
        var datan = airdnb;
        var x = [];


        for (let i = 0; i < datan.length; i++) {
            x.push(datan[i].accommodates);
        }

        var trace = {
            x: x,
            type: 'histogram',
        };
        var data = [trace];
        var layout = {
            height: 400,
            width: 500,
            xaxis: {
                title: {
                    text: "Antal accomodates per property"
                }
            },
            yaxis: {
                title: {
                    text: "Gånger påträffad"
                }
            }
        };
        Plotly.newPlot('myDiv3', data, layout);
    </script>




        



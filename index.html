<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/javascript" src="javascript.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <title>AirDnB</title>

</head>

<body>
    <h1>
        AirDnB Plots
    </h1>
    <!-- Skatterplot -->
    <p>
        <div id="myDiv1">

        </div>
    </p>
    <br>
    <script>
        var data = airdnb;
        var xData = [];
        var yData = [];

        for (let i = 0; i < data.length; i++) {
            xData.push(data[i].price);
            yData.push(data[i].reviews);
        }

        var trace1 = {
            x: xData,
            y: yData,
            mode: 'markers',
            type: 'scatter'
        };

        var data1 = [trace1];
        var layout = {
            height: 400,
            width: 500,
            xaxis: {
                title: {
                    text: "Price"
                }
            },
            yaxis: {
                title: {
                    text: "Reviews"
                }
            }

        };
        Plotly.newPlot('myDiv1', data1, layout);
    </script>


    <p>
        <!-- piechart-->
        <div id="myDiv">
        </div>
    </p>
    <br>

    <script>

        var nyArray;
        for (let i = 0; i < airdnb.length; i++) {
            if (typeof nyArray[airdnb[i].room_type] === "undefined") {
                nyArray[airdnb[i].room_type] = 0;
            }
            nyArray[airdnb[i].room_type]++;
        }
        var myValues = [];
        var myLabels = nyArray.filter(function(value, index, array){
            return array.indexOf(value) == index;
        });

        var data = [{
            values: myValues,
            labels: myLabels,
            type: 'pie',

        }];
        console.log("labels");

        var layout = {
            height: 400,
            width: 500
        };

        Plotly.newPlot('myDiv', data, layout);


    </script>


    <p>
        <!-- Histogram-->
        <div id="myDiv2"> </div>
    </p>
    <br></br>
    <script>


        var datan = airdnb;
        var x = [];


        for (let i = 0; i < datan.length; i++) {
            x.push(datan[i].price);
        }

        var trace = {
            x: x,
            type: 'histogram',
        };
        var data = [trace];
        var layout = {
            height: 400,
            width: 500,
            xaxis: {
                title: {
                    text: "Pris"
                }
            },
            yaxis: {
                title: {
                    text: "Antal"
                }
            }
        };
        Plotly.newPlot('myDiv2', data, layout);
    </script>



    <div id="myDiv3"> </div>
    <script>
        var datan = airdnb;
        var x = [];


        for (let i = 0; i < datan.length; i++) {
            x.push(datan[i].accommodates);
        }

        var trace = {
            x: x,
            type: 'histogram',
        };
        var data = [trace];
        var layout = {
            height: 400,
            width: 500,
            xaxis: {
                title: {
                    text: "Antal accomodates per property"
                }
            },
            yaxis: {
                title: {
                    text: "Gånger påträffad"
                }
            }
        };
        Plotly.newPlot('myDiv3', data, layout);
    </script>



    <!-- <td><img src=alt="Ups.. något gick fel">
                </td>
            </tr>
            <tr>
                <td> <img src=alt="Ups.. något gick fel">
                </td>
                <td><img src=alt="Ups.. något gick fel">
                </td>
            </tr> 
        </table>

        for (let egenskap in ssss)
        /*for (let i=0; i<ssss.length;i++)*/ {
        myValues.push(ssss[egenskap]);
        myLabels.push(egenskap);
    }
    /*console.log("")
}
/* document.getElementById("myDiv").innerHTML = airdnb.rum_type;*/
    -JSON.stringfy-->


</body>

</html>